{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\LABSREACT\\\\lab3\\\\AwesomeProject\\\\node_modules\\\\react-native-custom-qr-codes-expo\\\\lib\\\\QRCode.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport PropTypes from 'prop-types';\nimport { generateQRCode } from \"./QRCodeGenerator.js\";\nimport { drawPiece } from \"./styles\";\nimport Svg, { Rect, Defs, ClipPath, LinearGradient, Stop } from 'react-native-svg';\n\nvar QRCode = function (_PureComponent) {\n  _inherits(QRCode, _PureComponent);\n\n  var _super = _createSuper(QRCode);\n\n  function QRCode() {\n    _classCallCheck(this, QRCode);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(QRCode, [{\n    key: \"getPieces\",\n    value: function getPieces() {\n      var qr = generateQRCode(this.props);\n      var modules = qr.qrcode.modules;\n      var size = this.props.size;\n      var length = modules.length;\n      var xsize = size / (length + 2 * this.props.padding);\n      var ysize = size / (length + 2 * this.props.padding);\n      var logoX = this.props.size / 2 - this.props.logoSize / 2;\n      var logoY = this.props.size / 2 - this.props.logoSize / 2;\n      var logoSize = this.props.logoSize;\n      var pieces = [];\n      var nonPieces = [];\n\n      for (var y = 0; y < length; y++) {\n        for (var x = 0; x < length; x++) {\n          var module = modules[x][y];\n          var px = x * xsize + this.props.padding * xsize;\n          var py = y * ysize + this.props.padding * ysize;\n          var overlapsWithLogo = px > logoX && px < logoX + logoSize && py > logoY && py < logoY + logoSize || px + xsize > logoX && px + xsize < logoX + logoSize && py + ysize > logoY && py + ysize < logoY + logoSize;\n\n          if (!this.props.logo || this.props.logo && !overlapsWithLogo) {\n            if (module) {\n              pieces.push(this.getPiece(x, y, modules));\n            } else {\n              nonPieces.push(this.getPiece(x, y, modules));\n            }\n          }\n        }\n      }\n\n      if (this.props.backgroundImage) {\n        var _size = this.props.size;\n        return React.createElement(View, {\n          style: {\n            backgroundColor: 'white',\n            margin: this.props.padding * xsize\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }\n        }, React.createElement(Image, {\n          source: this.props.backgroundImage,\n          style: {\n            position: 'absolute',\n            top: this.props.padding * ysize,\n            left: this.props.padding * xsize,\n            height: this.props.size - this.props.padding * 2 * ysize,\n            width: this.props.size - this.props.padding * 2 * xsize\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 11\n          }\n        }), this.displayLogo(), React.createElement(Svg, {\n          height: _size,\n          width: _size,\n          color: \"transparent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }\n        }, React.createElement(Defs, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }\n        }, React.createElement(ClipPath, {\n          id: \"clip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }\n        }, nonPieces)), React.createElement(Rect, {\n          clipPath: \"url(#clip)\",\n          fill: \"white\",\n          x: 0,\n          y: 0,\n          height: \"100%\",\n          width: \"100%\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }\n        })));\n      } else if (this.props.linearGradient) {\n        var _this$props = this.props,\n            _size2 = _this$props.size,\n            _this$props$backgroun = _this$props.backgroundColor,\n            backgroundColor = _this$props$backgroun === void 0 ? 'transparent' : _this$props$backgroun;\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 9\n          }\n        }, React.createElement(Svg, {\n          height: _size2,\n          width: _size2,\n          color: backgroundColor,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }\n        }, React.createElement(Defs, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }\n        }, React.createElement(ClipPath, {\n          id: \"clip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }\n        }, pieces), React.createElement(LinearGradient, {\n          id: \"grad\",\n          x1: this.props.gradientDirection[0],\n          y1: this.props.gradientDirection[1],\n          x2: this.props.gradientDirection[2],\n          y2: this.props.gradientDirection[3],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }\n        }, React.createElement(Stop, {\n          offset: \"0\",\n          stopColor: this.props.linearGradient[0],\n          stopOpacity: \"1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }\n        }), React.createElement(Stop, {\n          offset: \"1\",\n          stopColor: this.props.linearGradient[1],\n          stopOpacity: \"1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }\n        }))), React.createElement(Rect, {\n          clipPath: \"url(#clip)\",\n          fill: \"white\",\n          x: 0,\n          y: 0,\n          height: \"100%\",\n          width: \"100%\",\n          fill: \"url(#grad)\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }\n        })), this.displayLogo());\n      } else {\n        var _this$props2 = this.props,\n            _size3 = _this$props2.size,\n            _this$props2$backgrou = _this$props2.backgroundColor,\n            _backgroundColor = _this$props2$backgrou === void 0 ? 'transparent' : _this$props2$backgrou;\n\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 9\n          }\n        }, React.createElement(Svg, {\n          height: _size3,\n          width: _size3,\n          color: _backgroundColor,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }\n        }, React.createElement(Defs, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }\n        }, React.createElement(ClipPath, {\n          id: \"clip\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }\n        }, pieces)), React.createElement(Rect, {\n          clipPath: \"url(#clip)\",\n          fill: \"white\",\n          x: 0,\n          y: 0,\n          height: \"100%\",\n          width: \"100%\",\n          fill: this.props.color,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }\n        })), this.displayLogo());\n      }\n    }\n  }, {\n    key: \"displayLogo\",\n    value: function displayLogo() {\n      if (this.props.logo) {\n        return React.createElement(Image, {\n          source: this.props.logo,\n          style: {\n            width: this.props.logoSize,\n            height: this.props.logoSize,\n            position: 'absolute',\n            left: this.props.size / 2 - this.props.logoSize / 2,\n            top: this.props.size / 2 - this.props.logoSize / 2\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 9\n          }\n        });\n      } else {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }\n        });\n      }\n    }\n  }, {\n    key: \"getPiece\",\n    value: function getPiece(x, y, modules) {\n      var pieceProps = this.getPieceProperties(x, y, modules);\n      return drawPiece(x, y, modules, pieceProps, this.props);\n    }\n  }, {\n    key: \"getPieceProperties\",\n    value: function getPieceProperties(x, y, modules) {\n      var mod_matrix = {};\n      mod_matrix.topLeft = x != 0 && y != 0 && modules[x - 1][y - 1];\n      mod_matrix.top = y != 0 && modules[x][y - 1];\n      mod_matrix.topRight = x != modules.length - 1 && y != 0 && modules[x + 1][y - 1];\n      mod_matrix.left = x != 0 && modules[x - 1][y];\n      mod_matrix.right = x != modules.length - 1 && modules[x + 1][y];\n      mod_matrix.bottomLeft = x != 0 && y != modules.length - 1 && modules[x - 1][y + 1];\n      mod_matrix.bottom = y != modules.length - 1 && modules[x][y + 1];\n      mod_matrix.bottomRight = x != modules.length - 1 && y != modules.length - 1 && modules[x + 1][y + 1];\n      var surroundingCount = 0;\n\n      if (mod_matrix.top) {\n        surroundingCount++;\n      }\n\n      if (mod_matrix.left) {\n        surroundingCount++;\n      }\n\n      if (mod_matrix.right) {\n        surroundingCount++;\n      }\n\n      if (mod_matrix.bottom) {\n        surroundingCount++;\n      }\n\n      var pieceProperties = {};\n      var orientation = 0;\n\n      switch (surroundingCount) {\n        case 0:\n          pieceProperties.pieceType = '1a';\n\n          if (mod_matrix.right) {\n            orientation = 90;\n          } else if (mod_matrix.bottom) {\n            orientation = 180;\n          } else if (mod_matrix.left) {\n            orientation = 270;\n          }\n\n          pieceProperties.orientation = orientation;\n          return pieceProperties;\n\n        case 1:\n          pieceProperties.pieceType = '2b';\n          pieceProperties.orientation = 0;\n          return pieceProperties;\n\n        case 2:\n          if (mod_matrix.top && mod_matrix.bottom || mod_matrix.left && mod_matrix.right) {\n            var orientation = mod_matrix.top && mod_matrix.bottom ? 0 : 90;\n            pieceProperties.pieceType = '1b3b';\n            pieceProperties.orientation = orientation;\n            return pieceProperties;\n          } else {\n            var orientation = 0;\n\n            if (mod_matrix.top && mod_matrix.right) {\n              pieceProperties.orientation = 90;\n              pieceProperties.pieceType = mod_matrix.topRight ? '2a1b1a' : '2a1b';\n              return pieceProperties;\n            } else if (mod_matrix.right && mod_matrix.bottom) {\n              pieceProperties.orientation = 180;\n              pieceProperties.pieceType = mod_matrix.bottomRight ? '2a1b1a' : '2a1b';\n              return pieceProperties;\n            } else if (mod_matrix.left && mod_matrix.bottom) {\n              pieceProperties.orientation = 270;\n              pieceProperties.pieceType = mod_matrix.bottomLeft ? '2a1b1a' : '2a1b';\n              return pieceProperties;\n            } else {\n              pieceProperties.pieceType = mod_matrix.topLeft ? '2a1b1a' : '2a1b';\n              return pieceProperties;\n            }\n          }\n\n        case 3:\n          pieceProperties.pieceType = '2a1b2c';\n          var orientation = 0;\n\n          if (mod_matrix.top && mod_matrix.right && mod_matrix.bottom) {\n            orientation = 90;\n          } else if (mod_matrix.right && mod_matrix.bottom && mod_matrix.left) {\n            orientation = 180;\n          } else if (mod_matrix.bottom && mod_matrix.left && mod_matrix.top) {\n            orientation = 270;\n          }\n\n          pieceProperties.orientation = orientation;\n          return pieceProperties;\n\n        case 4:\n          pieceProperties.pieceType = '2a1b2c3b';\n          pieceProperties.orientation = 0;\n          return pieceProperties;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.getPieces();\n    }\n  }]);\n\n  return QRCode;\n}(PureComponent);\n\nQRCode.propTypes = {\n  content: PropTypes.string,\n  size: PropTypes.number,\n  padding: PropTypes.number,\n  color: PropTypes.string,\n  linearGradient: PropTypes.arrayOf(PropTypes.string),\n  gradientDirection: PropTypes.arrayOf(PropTypes.number),\n  backgroundColor: PropTypes.string,\n  innerEyeStyle: PropTypes.oneOf(['square', 'circle', 'diamond']),\n  outerEyeStyle: PropTypes.oneOf(['square', 'circle', 'diamond']),\n  codeStyle: PropTypes.oneOf(['square', 'circle', 'diamond', 'dot', 'ninja', 'sharp']),\n  logo: Image.propTypes.source,\n  backgroundImage: Image.propTypes.source,\n  logoSize: PropTypes.number,\n  ecl: PropTypes.oneOf(['L', 'M', 'Q', 'H'])\n};\nQRCode.defaultProps = {\n  content: \"No Content\",\n  size: 250,\n  padding: 1,\n  color: 'black',\n  gradientDirection: [0, 0, 170, 0],\n  backgroundColor: 'white',\n  codeStyle: 'square',\n  outerEyeStyle: 'square',\n  innerEyeStyle: 'square',\n  logoSize: 100,\n  ecl: 'H'\n};\nexport { QRCode as default };","map":{"version":3,"sources":["C:/LABSREACT/lab3/AwesomeProject/node_modules/react-native-custom-qr-codes-expo/lib/QRCode.js"],"names":["React","PureComponent","PropTypes","generateQRCode","drawPiece","Svg","Rect","Defs","ClipPath","LinearGradient","Stop","QRCode","qr","props","modules","qrcode","size","length","xsize","padding","ysize","logoX","logoSize","logoY","pieces","nonPieces","y","x","module","px","py","overlapsWithLogo","logo","push","getPiece","backgroundImage","backgroundColor","margin","position","top","left","height","width","displayLogo","linearGradient","gradientDirection","color","pieceProps","getPieceProperties","mod_matrix","topLeft","topRight","right","bottomLeft","bottom","bottomRight","surroundingCount","pieceProperties","orientation","pieceType","getPieces","propTypes","content","string","number","arrayOf","innerEyeStyle","oneOf","outerEyeStyle","codeStyle","Image","source","ecl","defaultProps"],"mappings":"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","sourcesContent":["/*\n\nQRCode.js\n\nThis is a Customisable QR Code Component for React Native Applications.\n\n  --Geoff Natin 08/7/17 21:49\n\n*/\n\n\n//-----------------------------Imports-----------------------------------\nimport React, { PureComponent } from 'react';\nimport { View, Image, Text, Button } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { generateQRCode } from './QRCodeGenerator.js';\nimport { drawPiece } from './styles';\nimport Svg, { Rect, Defs, ClipPath, LinearGradient, Stop } from 'react-native-svg';\n\n//-----------------------------Component---------------------------------\nexport default class QRCode extends PureComponent {\n\n//-----------------------Properties---------------------\n  static propTypes = {\n    content: PropTypes.string,\n    size: PropTypes.number,\n    padding: PropTypes.number,\n    color: PropTypes.string,\n    linearGradient: PropTypes.arrayOf(PropTypes.string),\n    gradientDirection: PropTypes.arrayOf(PropTypes.number),\n    backgroundColor: PropTypes.string,\n    innerEyeStyle: PropTypes.oneOf(['square', 'circle', 'diamond']),\n    outerEyeStyle: PropTypes.oneOf(['square', 'circle', 'diamond']),\n    codeStyle: PropTypes.oneOf(['square', 'circle', 'diamond', 'dot', 'ninja', 'sharp']),\n    logo: Image.propTypes.source,\n    backgroundImage: Image.propTypes.source,\n    logoSize: PropTypes.number,\n    ecl: PropTypes.oneOf(['L', 'M', 'Q', 'H'])\n  };\n\n  static defaultProps = {\n    content: \"No Content\",\n    size: 250,\n    padding: 1,\n    color: 'black',\n    gradientDirection: [0, 0, 170, 0],\n    backgroundColor: 'white',\n    codeStyle: 'square',\n    outerEyeStyle: 'square',\n    innerEyeStyle: 'square',\n    logoSize: 100,\n    ecl: 'H'\n  };\n\n//-----------------------Methods-----------------------\n\n  //Returns an array of SVG Elements that represent the pieces of the QR Code\n  getPieces() {\n    var qr = generateQRCode(this.props);\n\n    var modules = qr.qrcode.modules;\n\n    var size = this.props.size;\n    var length = modules.length;\n    var xsize = size / (length + 2 * this.props.padding);\n    var ysize = size / (length + 2 * this.props.padding);\n    var logoX = ((this.props.size / 2) - (this.props.logoSize / 2));\n    var logoY = ((this.props.size / 2) - (this.props.logoSize / 2));\n    var logoSize = this.props.logoSize;\n\n    var pieces = [];\n    var nonPieces = [];\n\n    //Add the SVG element of each piece in the body of the QR Code\n    for (var y = 0; y < length; y++) {\n      for (var x = 0; x < length; x++) {\n        var module = modules[x][y];\n        var px = (x * xsize + this.props.padding * xsize);\n        var py = (y * ysize + this.props.padding * ysize);\n\n        //TODO: Add function to compute if pieces overlap with circular logos (more complex. Must see if tl or br is inside the radius from the centre of the circle (pythagoras theorem?))\n        var overlapsWithLogo = (\n\n          px > logoX && px < (logoX + logoSize) && py > logoY && py < (logoY + logoSize) ||//Piece's top left is inside the logo area\n          (px + xsize) > logoX && (px + xsize) < (logoX + logoSize) && (py + ysize) > logoY && (py + ysize) < (logoY + logoSize)//Piece's bottom right is inside the logo area\n\n        );\n\n        if (!this.props.logo || (this.props.logo && !overlapsWithLogo)) {\n\n          if (module) {\n            pieces.push(this.getPiece(x, y, modules));\n          } else {\n            nonPieces.push(this.getPiece(x, y, modules));\n          }\n        }\n      }\n    }\n\n    if (this.props.backgroundImage) {\n      const { size } = this.props;\n      return (\n        <View style={{backgroundColor: 'white', margin: this.props.padding * xsize}}>\n          <Image source={this.props.backgroundImage} style={{\n            position: 'absolute',\n            top: (this.props.padding * ysize),\n            left: (this.props.padding * xsize),\n            height: (this.props.size - this.props.padding * 2 * ysize),\n            width: (this.props.size - this.props.padding * 2 * xsize)\n          }}/>\n          {this.displayLogo()}\n          <Svg height={size} width={size} color=\"transparent\">\n            <Defs>\n              <ClipPath id=\"clip\">\n                {nonPieces}\n              </ClipPath>\n            </Defs>\n            <Rect clipPath=\"url(#clip)\" fill='white' x={0} y={0} height='100%' width='100%'/>\n          </Svg>\n        </View>\n      );\n    } else if (this.props.linearGradient) {\n      const { size, backgroundColor = 'transparent' } = this.props;\n      return (\n        <View>\n          <Svg height={size} width={size} color={backgroundColor}>\n            <Defs>\n              <ClipPath id=\"clip\">\n                {pieces}\n              </ClipPath>\n              <LinearGradient id=\"grad\" x1={this.props.gradientDirection[0]} y1={this.props.gradientDirection[1]}\n                              x2={this.props.gradientDirection[2]} y2={this.props.gradientDirection[3]}>\n                <Stop offset=\"0\" stopColor={this.props.linearGradient[0]} stopOpacity=\"1\"/>\n                <Stop offset=\"1\" stopColor={this.props.linearGradient[1]} stopOpacity=\"1\"/>\n              </LinearGradient>\n            </Defs>\n            <Rect clipPath=\"url(#clip)\" fill='white' x={0} y={0} height='100%' width='100%' fill='url(#grad)'/>\n          </Svg>\n          {this.displayLogo()}\n        </View>\n      );\n    } else {\n      const { size, backgroundColor = 'transparent' } = this.props;\n      return (\n        <View>\n          <Svg height={size} width={size} color={backgroundColor}>\n            <Defs>\n              <ClipPath id=\"clip\">\n                {pieces}\n              </ClipPath>\n            </Defs>\n            <Rect clipPath=\"url(#clip)\" fill='white' x={0} y={0} height='100%' width='100%' fill={this.props.color}/>\n          </Svg>\n          {this.displayLogo()}\n        </View>\n      );\n    }\n  }\n\n  //Renders the logo on top of the QR Code if there is one\n  displayLogo() {\n    if (this.props.logo) {\n      return (\n        <Image source={this.props.logo} style={{\n          width: this.props.logoSize,\n          height: this.props.logoSize,\n          position: 'absolute',\n          left: ((this.props.size / 2) - (this.props.logoSize / 2)),\n          top: ((this.props.size / 2) - (this.props.logoSize / 2))\n        }}/>\n      );\n    } else {\n      return (<View/>);\n    }\n  }\n\n  //Returns an SVG Element that represents the piece of the QR code at modules[x][y]\n  getPiece(x, y, modules) {\n\n    //Find out which piece type it is\n    var pieceProps = this.getPieceProperties(x, y, modules);\n    return drawPiece(x, y, modules, pieceProps, this.props);\n\n  }\n\n  //Returns an object with orientation and pieceType representation of the piece type. (See https://github.com/mpaolino/qrlib/tree/master/qrlib/static)\n  getPieceProperties(x, y, modules) {\n    var mod_matrix = {};\n    mod_matrix.topLeft = (x != 0 && y != 0 && modules[x - 1][y - 1]);\n    mod_matrix.top = (y != 0 && modules[x][y - 1]);\n    mod_matrix.topRight = (x != modules.length - 1 && y != 0 && modules[x + 1][y - 1]);\n    mod_matrix.left = (x != 0 && modules[x - 1][y]);\n    mod_matrix.right = (x != modules.length - 1 && modules[x + 1][y]);\n    mod_matrix.bottomLeft = (x != 0 && y != modules.length - 1 && modules[x - 1][y + 1]);\n    mod_matrix.bottom = (y != modules.length - 1 && modules[x][y + 1]);\n    mod_matrix.bottomRight = (x != modules.length - 1 && y != modules.length - 1 && modules[x + 1][y + 1]);\n\n    //  (surroundingCount holds the number of pieces above or to the side of this piece)\n    var surroundingCount = 0;\n    if (mod_matrix.top) {\n      surroundingCount++;\n    }\n    if (mod_matrix.left) {\n      surroundingCount++;\n    }\n    if (mod_matrix.right) {\n      surroundingCount++;\n    }\n    if (mod_matrix.bottom) {\n      surroundingCount++;\n    }\n\n    var pieceProperties = {};\n    var orientation = 0;\n\n    //Determine what the piece properties are from its surrounding pieces.\n    //  (surroundingCount holds the number of pieces above or to the side of this piece)\n    //  (See https://github.com/mpaolino/qrlib/tree/master/qrlib/static)\n    switch (surroundingCount) {\n      case 0:\n        pieceProperties.pieceType = '1a';\n        if (mod_matrix.right) {\n          orientation = 90;\n        } else if (mod_matrix.bottom) {\n          orientation = 180;\n        } else if (mod_matrix.left) {\n          orientation = 270;\n        }\n        pieceProperties.orientation = orientation;\n        return pieceProperties;\n      case 1:\n        pieceProperties.pieceType = '2b';\n        pieceProperties.orientation = 0;\n        return pieceProperties;\n      case 2:\n        if ((mod_matrix.top && mod_matrix.bottom) || (mod_matrix.left && mod_matrix.right)) {\n          var orientation = (mod_matrix.top && mod_matrix.bottom) ? 0 : 90;\n          pieceProperties.pieceType = '1b3b';\n          pieceProperties.orientation = orientation;\n          return pieceProperties;\n        } else {\n          var orientation = 0;\n          if (mod_matrix.top && mod_matrix.right) {\n            pieceProperties.orientation = 90;\n            pieceProperties.pieceType = mod_matrix.topRight ? '2a1b1a' : '2a1b';\n            return pieceProperties;\n          } else if (mod_matrix.right && mod_matrix.bottom) {\n            pieceProperties.orientation = 180;\n            pieceProperties.pieceType = mod_matrix.bottomRight ? '2a1b1a' : '2a1b';\n            return pieceProperties;\n          } else if (mod_matrix.left && mod_matrix.bottom) {\n            pieceProperties.orientation = 270;\n            pieceProperties.pieceType = mod_matrix.bottomLeft ? '2a1b1a' : '2a1b';\n            return pieceProperties;\n          } else {\n            pieceProperties.pieceType = mod_matrix.topLeft ? '2a1b1a' : '2a1b';\n            return pieceProperties;\n          }\n        }\n      case 3:\n        pieceProperties.pieceType = '2a1b2c';\n        var orientation = 0;\n        if (mod_matrix.top && mod_matrix.right && mod_matrix.bottom) {\n          orientation = 90;\n        } else if (mod_matrix.right && mod_matrix.bottom && mod_matrix.left) {\n          orientation = 180;\n        } else if (mod_matrix.bottom && mod_matrix.left && mod_matrix.top) {\n          orientation = 270;\n        }\n        pieceProperties.orientation = orientation;\n        return pieceProperties;\n      case 4:\n        pieceProperties.pieceType = '2a1b2c3b';\n        pieceProperties.orientation = 0;\n        return pieceProperties;\n    }\n  }\n\n  //---------------------Rendering-----------------------\n\n  render() {\n    return this.getPieces();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}